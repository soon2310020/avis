DROP TABLE IF EXISTS AI_MOLD_FEATURE;
DROP TABLE IF EXISTS AI_TSD_RESULT;

CREATE TABLE AI_MOLD_FEATURE (
   ID BIGINT NOT NULL AUTO_INCREMENT,
   MOLD_ID BIGINT NOT NULL,
	SC_MIN INT NULL DEFAULT NULL,
	SC_5_PERC INT NULL DEFAULT NULL,
	SC_10_PERC INT NULL DEFAULT NULL,
	SC_15_PERC INT NULL DEFAULT NULL,
	SC_20_PERC INT NULL DEFAULT NULL,
	SC_25_PERC INT NULL DEFAULT NULL,
	SC_50_PERC INT NULL DEFAULT NULL,
	SC_75_PERC INT NULL DEFAULT NULL,
	SC_MAX INT NULL DEFAULT NULL,
	SC_MODE INT NULL DEFAULT NULL,
	SC_MEAN INT NULL DEFAULT NULL,
	UPTIME_MEDIAN INT NULL DEFAULT NULL,
	UPTIME_MODE INT NULL DEFAULT NULL,
	UPTIME_COUNT INT NULL DEFAULT NULL,
	MOLD_CLASS VARCHAR(50) NULL DEFAULT NULL,
   CREATED_AT DATETIME NULL DEFAULT NULL,
	UPDATED_AT DATETIME NULL DEFAULT NULL,
	PRIMARY KEY (ID) USING BTREE,
	CONSTRAINT FK_MFE FOREIGN KEY (MOLD_ID) REFERENCES MOLD (ID) ON UPDATE NO ACTION ON DELETE NO ACTION
) CHARSET=UTF8MB4;


CREATE TABLE AI_TSD_RESULT (
   ID BIGINT NOT NULL AUTO_INCREMENT,
	MOLD_ID BIGINT NOT NULL,
	LOW_SC_THRESHOLD INT NULL DEFAULT NULL,
	HIGH_SC_THRESHOLD INT NULL DEFAULT NULL,
	STATISTICS_ID BIGINT NOT NULL,
	HOUR VARCHAR(50) NULL DEFAULT NULL ,	
	SHOT_COUNT INT NULL DEFAULT NULL,
	CORRECTED_SHOT_COUNT INT NULL DEFAULT NULL,
	TSD_LABEL VARCHAR(50) NULL DEFAULT NULL,
	IS_MISSING INT NULL DEFAULT NULL,		
	CREATED_AT DATETIME NULL DEFAULT NULL,
	UPDATED_AT DATETIME NULL DEFAULT NULL,
	PRIMARY KEY (ID) USING BTREE,
	UNIQUE INDEX UX_AQM (STATISTICS_ID) USING BTREE	
) CHARSET=UTF8MB4;